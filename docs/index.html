<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>D3 Page Template</title>
		<!-- <script type="text/javascript" src="d3.js"></script> -->
		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
		   <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
		   <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

		  <!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

		<!-- Optional theme -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

		<!-- Latest compiled and minified JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
		<script src="https://d3js.org/d3.v4.min.js"></script>


		<!-- Add our JS and CSS here -->
		<link rel="stylesheet" href="vendor/cssanimation.min.css">
		<script src="vendor/scrolly.min.js"></script>
		<link rel="stylesheet" href="./index.css">
		<script src="timeline_co2.js"></script>
		<script src="scatterplot_emissions.js"></script>
		<script src="stacked_barchart_fuelTypes.js"></script>
		<script src="bubblechart_worldwideFuel.js"></script>
	</head>
	<body>
		<script>
       window.onload = function() {
          scrolly();
       };
    </script>
		<div class="container">
      <div class="starter-template">
        <h1>Intro</h1>
        <p class="lead">
          Taking aim at preventing the greenhouse effect, the main contributor to global warming, the Obama Administration created legislation, which it titled the Clean Power Plan.  On August 3, 2015, the Obama Administration unveiled The Clean Power Plan, which "established the first national limits on carbon pollution from existing power plants—our nation's single largest source of the pollution fueling climate change" and was "the biggest step" the United States had "ever taken to address climate change." This is heralded as Obama’s greatest policy effort to combat climate change.
        </p>
      </div>
      <hr />
      <section id='co2-chart-section' data-scrolly-top="blurInBottom" data-scrolly-offset-bottom="500px">
				<div id='co2-text-container'>
					<h2>CO2 Emissions</h2>
					<p class="lead">
						The primary goal of the CPP is to reduce CO2 emissions by 32% by the year 2030 in comparison to CO2 emissions from 2005. The interactive chart below utilizes data provided by the Environmental Protection Agency (EPA).  Annual statistics on CO2 emissions for the country and state granularity are provided since 1990 with a 1 year lag in release date; 2015 is the most recent data point.
					</p>
				</div>
        <svg width="700" height="400"></svg>
				<svg width="700" height="400" style='stroke-width: 0px' class='svg2'></svg>
      </section>
      <hr />
			<section id='carbon-emissions-section' data-scrolly-top="blurInBottom" data-scrolly-down="blurInTop" data-scrolly-offset-top="300px" data-scrolly-offset-bottom="500px">
				<h2>CO2 Emissions Differ by Fuel Type</h2>
				<p class="lead">
						How does the CPP propose states achieve the reduction of CO2? States are required to submit a plan to the EPA detailing how it will reduce CO2 emissions from fossil fuel burning facilities.
				</p>
				<ul>
					<li>increasing the generation efficiency of existing fossil fuel plants</li>
					<li>substituting lower carbon dioxide emitting natural gas generation for coal powered generation</li>
					<li>substituting generation from new zero carbon dioxide emitting renewable sources for fossil fuel powered generation</li>
				</ul>
				<i>The figures below shows each individual power plant in the US plotted with its power output vs CO2 emissions in tons, illustrating a distinct profile between coal, gas, and non fossil fuel generating units.</i>
        <div id='scatterplot-emissions'>
					<div id="tooltip" class="hidden">
					  <p><strong>Facility Name: <span id="name"></span></strong></p>
					  <p><span id="loc"></span></p>
					  <p>Carbon Dioxide: <span id="CO2">100000000</span> (tons)</p>
					  <p>Power Generated: <span id="pow">100</span> (MW-h)</p>
					  <p>Primary Fuel Type: <span id="fuel"></span></p>
					</div>
					<p>
					<input type="checkbox" class="myCheckbox" value="COAL"> Coal
					<input type="checkbox" class="myCheckbox" value="GAS"> Natural Gas
					<input type="checkbox" class="myCheckbox" value="OIL"> Petroleum
					<input type="checkbox" class="myCheckbox" value="HYDRO"> Hydro
					<input type="checkbox" class="myCheckbox" value="WIND"> Wind
					<input type="checkbox" class="myCheckbox" value="SOLAR"> Solar
					<input type="checkbox" class="myCheckbox" value="NUCLEAR"> Nuclear
					<input type="checkbox" class="myCheckbox" value="GEOTHERMAL"> Geothermal
					<input type="checkbox" class="myCheckbox" value="BIOMASS"> Biomass
					<input type="checkbox" class="myCheckbox" value="OFSL"> Other Fossil Fuel
					<input type="checkbox" class="myCheckbox" value="OTHF"> Other Fuel Types
					</p>
				</div>
      </section>
			<hr />
			<section id='worldwide-electricity-consumption-section' data-scrolly-top="blurInBottom" data-scrolly-down="blurInTop" data-scrolly-offset-bottom="500px">
				<h1>World Wide CO2 emissions and energy consumptions</h1>
				<p class="lead">
					USA has been a leading producer of CO2 for the past 25 years,
					overtaken by China only recently. However, the US has reduced the Coal
					consumption significantly in the past 10-15 years. The electricy consumption
					increased in the 90s but has stayed stagnant in the past 10 years. The US remains
					the leading consumer of Natural Gas in the world.
				</p>
				<h3 id='fuel_type'></h3>
        <div id='bubble-chart'></div>
				<div id='control-chart'>
					<div id='consumption-table'>
						<span id='unitOfMeasure-container'>
							Unit of Measure: <span id='unitOfMeasure'></span>
						</span>
					</div>
					<br />
					<div id='slider-container'>
						<label for="year">Selected Year:</label>
						<input type="text" id="year" readonly style="border:0;font-size: 1.5em; font-weight:bold;">
						<div id="slider"></div>

					</div>
					<br />
					<div class="fueltype-selector">
						<label for="">
							Types
						</label>
						<select class="form-control" id='sel-energy-types'></select>
					</div>
				</div>
				<div class="row">

        </div>
				<i>*All data taken from <a target='_blank' href="https://yearbook.enerdata.net/">enerdata.net</a></i>
      </section>
			<hr />



			<section id='fuelTypes-section' data-scrolly-down="blurInTop" data-scrolly-offset-top="300px" data-scrolly-offset-bottom="500px" >
				<h1>Past, Present, & Future Power Plants</h1>
				<p class="lead">
					The CPP was met with much controversy, however, as opponents cited that it would hurt the economy by eliminating job in the coal industry and drastically reducing job in other industries such as cement and steel production. For these reasons, the Trump Administration repealed the CPP on October 10, 2017. In the chart below, a history of electric generating units constructed in the United States is presented as well as past and planned retirements through 2055, which are indicated in the bottom plot.<br>Data Source: United States EPA
				</p>
        <div id='barchart-timeline'>
					<p>
						<button class="button" onclick="display_4(1880, 1920)">First Power Plants<br>1880-1920</button>
						<button class="button" onclick="display_4(1920, 1960)">Electricity for Everyone<br>1920-1960</button>
						<button class="button" onclick="display_4(1960, 2000)">Clean Air Era Begins<br>1960-2000</button>
						<button class="button" onclick="display_4(2000, 2055)">Renewables & Retirements<br>2000 and Beyond</button>
						</p>
						Start Year: <input type="text" id="myText_1" value="1880">
						End Year: <input type="text" id="myText_2" value="2055">
						<button onclick="myFunction()">Set Timeline View</button>
						<svg width="960" height="500"></svg>
						<svg id = "viz2" width="960" height="500"></svg>
						<script src="https://cdnjs.cloudflare.com/ajax/libs/d3-annotation/2.1.0/d3-annotation.independent.min.js"></script>
						<div id="tooltip1" class="hidden">
						  <p><strong><span id="yr"></span></strong></p>
						  <p>Total Power: <span id="pow3">100000000</span> (MW)</p>
						  <p>Fuel Type: <span id="f_t">100000000</span></p>
						  <p>Power: <span id="pow2">100000000</span> (MW)</p>
						</div>
				</div>
      </section>
			<hr />
    </div><!-- /.container -->
    <footer class='footer'>
          W209 Final Project by Chet, Chu, and Max
    </footer>
	</body>
</html>
